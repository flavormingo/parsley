const parsley=function(){let e={gfm:!0,breaks:!1};function t(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function n(e){let i="",c=0;for(;c<e.length;){if("\\"===e[c]&&c+1<e.length){i+=t(e[c+1]),c+=2;continue}if("`"===e[c]){const n=e.slice(c).match(/^`([^`]+)`/);if(n){i+="<code>"+t(n[1])+"</code>",c+=n[0].length;continue}}if("!"===e[c]&&"["===e[c+1]){const n=e.slice(c).match(/^!\[([^\]]*)\]\(([^)]+)\)/);if(n){i+='<img src="'+t(n[2])+'" alt="'+t(n[1])+'">',c+=n[0].length;continue}}if("["===e[c]){const s=e.slice(c).match(/^\[([^\]]+)\]\(([^)]+)\)/);if(s){i+='<a href="'+t(s[2])+'">'+n(s[1])+"</a>",c+=s[0].length;continue}}if("*"===e[c]||"_"===e[c]){const t=e[c];if(e.slice(c,c+3)===t.repeat(3)){const s=e.indexOf(t.repeat(3),c+3);if(-1!==s){i+="<strong><em>"+n(e.slice(c+3,s))+"</em></strong>",c=s+3;continue}}if(e.slice(c,c+2)===t.repeat(2)){const s=e.indexOf(t.repeat(2),c+2);if(-1!==s){i+="<strong>"+n(e.slice(c+2,s))+"</strong>",c=s+2;continue}}if(e[c+1]&&" "!==e[c+1]){const s=e.indexOf(t,c+1);if(-1!==s&&" "!==e[s-1]){i+="<em>"+n(e.slice(c+1,s))+"</em>",c=s+1;continue}}}if("~~"===e.slice(c,c+2)){const t=e.indexOf("~~",c+2);if(-1!==t){i+="<del>"+n(e.slice(c+2,t))+"</del>",c=t+2;continue}}const s=e.slice(c).match(/^(https?:\/\/[^\s<]+)/);if(s){const e=s[1].replace(/[.,;:!?)]+$/,"");i+='<a href="'+t(e)+'">'+t(e)+"</a>",c+=e.length;continue}if("<"===e[c]){const t=e.slice(c).match(/^<(\/?)(kbd|sub|sup|br|details|summary)(\s[^>]*)?\/?>/i);if(t){i+=t[0],c+=t[0].length;continue}}i+=t(e[c]),c++}return i}function i(e,t,n,c){const s=[];let o=t,l=null,r=!1;for(;o<e.length;){const t=e[o],h=t.match(/^(\s*)/)[1].length;if(h<n&&""!==t.trim())break;const d=t.match(/^(\s*)(-|\*|\+|\d+\.)\s+(.*)$/);if(d&&d[1].length===n){const e=/^\d+\./.test(d[2]);if(r||void 0!==c&&e!==c)break;void 0===c&&(c=e),l&&s.push(l);const t=d[3].match(/^\[([ xX])\]\s*(.*)/);if(t){const n="x"===t[1].toLowerCase();l={content:t[2],checked:n,isTask:!0,children:[],ordered:e}}else l={content:d[3],children:[],ordered:e};r=!1,o++}else if(d&&d[1].length>n&&l){const t=/^\d+\./.test(d[2]),n=i(e,o,d[1].length,t);l.children=n.items,l.childOrdered=n.ordered,o=n.end,r=!1}else if(h>n&&l&&""!==t.trim())l.content+="\n"+t.trim(),o++;else{if(""!==t.trim())break;r=!0,o++}}return l&&s.push(l),{items:s,end:o,ordered:c}}function c(e,t){const i=t?"ol":"ul";let s="<"+i+">\n";for(const t of e){if(t.isTask){s+="<li>"+(t.checked?'<input type="checkbox" checked disabled>':'<input type="checkbox" disabled>')+n(t.content)}else s+="<li>"+n(t.content);t.children&&t.children.length>0&&(s+="\n"+c(t.children,t.childOrdered)),s+="</li>\n"}return s+="</"+i+">",s}function s(e){if(e.length<2)return null;const t=e[0],i=e[1];if(!i.match(/^\|?[\s\-:|]+\|?$/))return null;const c=e=>e.replace(/^\||\|$/g,"").split("|").map(e=>e.trim()),s=c(t),o=c(i).map(e=>e.startsWith(":")&&e.endsWith(":")?"center":e.endsWith(":")?"right":"left");let l="<table>\n<thead>\n<tr>\n";for(let e=0;e<s.length;e++)l+='<th align="'+o[e]+'">'+n(s[e])+"</th>\n";l+="</tr>\n</thead>\n<tbody>\n";for(let t=2;t<e.length&&e[t].includes("|");t++){const i=c(e[t]);l+="<tr>\n";for(let e=0;e<s.length;e++)l+='<td align="'+o[e]+'">'+n(i[e]||"")+"</td>\n";l+="</tr>\n"}return l+="</tbody>\n</table>",{html:l,consumed:e.length}}function o(e){const t=[];let n=0;for(;n<e.length&&e[n].startsWith(">");)t.push(e[n].replace(/^>\s?/,"")),n++;return{html:"<blockquote>\n"+l(t.join("\n"))+"</blockquote>",consumed:n}}function l(r){const h=r.split("\n");let d="",a=0;for(;a<h.length;){const r=h[a];if(""===r.trim()){a++;continue}const f=r.match(/^(#{1,6})\s+(.+)$/);if(f){const e=f[1].length;d+="<h"+e+">"+n(f[2])+"</h"+e+">\n",a++;continue}if(r.match(/^```/)){const e=r.slice(3).trim(),n=[];for(a++;a<h.length&&!h[a].match(/^```/);)n.push(h[a]),a++;a++;const i=t(n.join("\n"));d+=e?'<pre><code class="language-'+e+'">'+i+"</code></pre>\n":"<pre><code>"+i+"</code></pre>\n";continue}if(r.match(/^(\-{3,}|\*{3,}|_{3,})$/)){d+="<hr>\n",a++;continue}if(r.startsWith(">")){const e=o(h.slice(a));d+=e.html+"\n",a+=e.consumed;continue}const u=r.match(/^(\s*)(-|\*|\+|\d+\.)\s+/);if(u){const e=/^\d+\./.test(u[2]),t=i(h,a,u[1].length,e);d+=c(t.items,t.ordered)+"\n",a=t.end;continue}if(r.includes("|")&&a+1<h.length&&h[a+1].match(/^\|?[\s\-:|]+\|?$/)){let e=[],t=a;for(;t<h.length&&h[t].includes("|");)e.push(h[t]),t++;const n=s(e);if(n){d+=n.html+"\n",a=t;continue}}if(r.match(/^<(details|div|section|article|aside|header|footer|nav|form|fieldset|figure|figcaption|main)/i)){let e=[r];const t=r.match(/^<(\w+)/)[1].toLowerCase();let n=1;for(a++;a<h.length&&n>0;){e.push(h[a]);n+=(h[a].match(new RegExp("<"+t+"(\\s|>)","gi"))||[]).length-(h[a].match(new RegExp("</"+t+">","gi"))||[]).length,a++}const i=e.join("\n");if("details"===t){const e=i.match(/^(<details[^>]*>[\s\S]*?<\/summary>)([\s\S]*?)(<\/details>)$/i);if(e){const t=l(e[2].trim());d+=e[1]+"\n"+t+e[3]+"\n";continue}}d+=i+"\n";continue}const m=[];for(;a<h.length&&""!==h[a].trim()&&!h[a].match(/^(#{1,6}\s|```|>|\s*[-*+]\s|\s*\d+\.\s|(\-{3,}|\*{3,}|_{3,})$|<(details|div))/);)m.push(h[a]),a++;if(m.length>0){d+="<p>"+(e.breaks?m.map(e=>n(e)).join("<br>\n"):n(m.join("\n")))+"</p>\n"}}return d}return{parse:l,setOptions:function(t){e={...e,...t}}}}();"undefined"!=typeof module&&module.exports&&(module.exports=parsley);